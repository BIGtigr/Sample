<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>matrix_builder Module &mdash; Pyvolve  documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/pyvolve_favicon.ico"/>
    <link rel="top" title="Pyvolve  documentation" href="index.html" />
    <link rel="up" title="Python modules in pyvolve" href="modules.html" />
    <link rel="next" title="evolver Module" href="evolver.html" />
    <link rel="prev" title="state_freqs Module" href="state_freqs.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">Pyvolve  documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="state_freqs.html" title="state_freqs Module"
             accesskey="P">previous</a> |
          <a href="evolver.html" title="evolver Module"
             accesskey="N">next</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-matrix_builder">
<span id="matrix-builder-module"></span><h1><code class="docutils literal"><span class="pre">matrix_builder</span></code> Module<a class="headerlink" href="#module-matrix_builder" title="Permalink to this headline">¶</a></h1>
<p>This module will generate the Markov chain&#8217;s instantaneous rate matrix, Q.</p>
<dl class="class">
<dt id="matrix_builder.MatrixBuilder">
<em class="property">class </em><code class="descclassname">matrix_builder.</code><code class="descname">MatrixBuilder</code><span class="sig-paren">(</span><em>param_dict</em>, <em>scale_matrix='yang'</em><span class="sig-paren">)</span><a class="headerlink" href="#matrix_builder.MatrixBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Parent class for model instantaneous matrix creation.</p>
<dl class="docutils">
<dt>Child class include the following:</dt>
<dd><ol class="first last arabic">
<li><dl class="first docutils">
<dt><em>aminoAcid_Matrix</em> </dt>
<dd><ul class="first last simple">
<li>Empirical amino acid models (currently, JTT, WAG, and LG).</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><em>nucleotide_Matrix</em> </dt>
<dd><ul class="first last simple">
<li>Nucleotide models (GTR and nested)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><em>mechCodon_Matrix</em></dt>
<dd><ul class="first last simple">
<li>So-called mechanistic codon models, which include GY-style and MG-style models (dN/dS models)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><em>ECM_Matrix</em></dt>
<dd><ul class="first last simple">
<li>ECM (Kosiol2007) empirical codon model</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><em>mutSel_Matrix</em> </dt>
<dd><ul class="first last simple">
<li>Mutation-selection model (Halpern and Bruno 1998), extended for either codon or nucleotides</li>
</ul>
</dd>
</dl>
</li>
</ol>
</dd>
</dl>
<p>Construction requires a single positional argument, <strong>param_dict</strong>. This argument should be a dictionary containing parameters about the substitution process in order to construct the matrix.</p>
<dl class="docutils">
<dt>Optional keyword arguments:</dt>
<dd><ol class="first last arabic simple">
<li><strong>scale_matrix</strong> = &lt;&#8217;yang&#8217;, &#8216;neutral&#8217;, &#8216;False/None&#8217;&gt;. This argument determines how rate matrices should be scaled. By default, all matrices are scaled according to Ziheng Yang&#8217;s approach, in which the mean substitution rate is equal to 1. However, for codon models (GY-style and MG-style), this scaling approach effectively causes sites under purifying selection to evolve at the same rate as sites under positive selection, which may not be desired. Thus, the &#8216;neutral&#8217; scaling option will allow for codon matrices to be scaled such that the mean rate of <em>neutral</em> subsitution is 1. You may also opt out of scaling by providing either False or None to this argument, although this is not recommended.</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="matrix_builder.aminoAcid_Matrix">
<em class="property">class </em><code class="descclassname">matrix_builder.</code><code class="descname">aminoAcid_Matrix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#matrix_builder.aminoAcid_Matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matrix_builder.MatrixBuilder" title="matrix_builder.MatrixBuilder"><code class="xref py py-class docutils literal"><span class="pre">matrix_builder.MatrixBuilder</span></code></a></p>
<p>Child class of MatrixBuilder. This class implements functions relevant to constructing amino acid model instantaneous matrices.
Note that all empirical amino acid replacement matrices are in the file empirical_matrices.py.</p>
</dd></dl>

<dl class="class">
<dt id="matrix_builder.nucleotide_Matrix">
<em class="property">class </em><code class="descclassname">matrix_builder.</code><code class="descname">nucleotide_Matrix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#matrix_builder.nucleotide_Matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matrix_builder.MatrixBuilder" title="matrix_builder.MatrixBuilder"><code class="xref py py-class docutils literal"><span class="pre">matrix_builder.MatrixBuilder</span></code></a></p>
<p>Child class of MatrixBuilder. This class implements functions relevant to constructing nucleotide model instantaneous matrices.
All models computed here are essentially nested versions of GTR.</p>
</dd></dl>

<dl class="class">
<dt id="matrix_builder.mechCodon_Matrix">
<em class="property">class </em><code class="descclassname">matrix_builder.</code><code class="descname">mechCodon_Matrix</code><span class="sig-paren">(</span><em>params</em>, <em>type='GY'</em>, <em>scale_matrix='yang'</em><span class="sig-paren">)</span><a class="headerlink" href="#matrix_builder.mechCodon_Matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matrix_builder.MatrixBuilder" title="matrix_builder.MatrixBuilder"><code class="xref py py-class docutils literal"><span class="pre">matrix_builder.MatrixBuilder</span></code></a></p>
<p>Child class of MatrixBuilder. This class implements functions relevant to &#8220;mechanistic&#8221; (dN/dS) codon models.
Models include both GY-style or MG-style varieties, although users should <em>always specify codon frequencies</em> to class instance!
Both dS and dN variation are allowed, as are GTR mutational parameters (not strictly HKY85).</p>
</dd></dl>

<dl class="class">
<dt id="matrix_builder.mutSel_Matrix">
<em class="property">class </em><code class="descclassname">matrix_builder.</code><code class="descname">mutSel_Matrix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#matrix_builder.mutSel_Matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matrix_builder.MatrixBuilder" title="matrix_builder.MatrixBuilder"><code class="xref py py-class docutils literal"><span class="pre">matrix_builder.MatrixBuilder</span></code></a></p>
<p>Child class of MatrixBuilder. This class implements functions relevant to constructing mutation-selection balance model instantaneous matrices, according to the HalpernBruno 1998 model.
Here, this model is extended such that it can be used for either nucleotide or codon. This class will automatically detect which one you want based on your state frequencies.</p>
</dd></dl>

<dl class="class">
<dt id="matrix_builder.ECM_Matrix">
<em class="property">class </em><code class="descclassname">matrix_builder.</code><code class="descname">ECM_Matrix</code><span class="sig-paren">(</span><em>params</em>, <em>scale_matrix='yang'</em><span class="sig-paren">)</span><a class="headerlink" href="#matrix_builder.ECM_Matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matrix_builder.MatrixBuilder" title="matrix_builder.MatrixBuilder"><code class="xref py py-class docutils literal"><span class="pre">matrix_builder.MatrixBuilder</span></code></a></p>
<p>Child class of MatrixBuilder. This class implements functions relevant to constructing a matrix specifically for the ECM (described in Kosiol2007) model.
We support both restricted (instantaneous single changes only) and unrestricted (instantaneous single, double, or triple) versions of this model (see paper for details).</p>
<p>!!! NOTE: The ECM model supports omega (dN/dS) and kappa (TI/TV) ratios in their calculations, and therefore I have included these parameters here. HOWEVER, I do NOT recommend their use.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <p class="logo"><a href="index.html">
            <img class="logo" src="_static/pyvolve_logo.png" alt="Logo"/>
          </a></p>
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Python modules in <cite>pyvolve</cite></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="genetics.html"><code class="docutils literal"><span class="pre">genetics</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="newick.html"><code class="docutils literal"><span class="pre">newick</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html"><code class="docutils literal"><span class="pre">model</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="partition.html"><code class="docutils literal"><span class="pre">partition</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="state_freqs.html"><code class="docutils literal"><span class="pre">state_freqs</span></code> Module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href=""><code class="docutils literal"><span class="pre">matrix_builder</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="evolver.html"><code class="docutils literal"><span class="pre">evolver</span></code> Module</a></li>
</ul>
</li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
            <p class="searchtip" style="font-size: 90%">
                Enter search terms or a module, class or function name.
            </p>
          </div>

        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="state_freqs.html" title="state_freqs Module"
              >previous</a> |
            <a href="evolver.html" title="evolver Module"
              >next</a> |
            <a href="py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/matrix_builder.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Stephanie J. Spielman.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>